-- PRIVATE SERVER FORCE REJOIN | Bee Swarm Simulator  
-- AUTO-RETRY BUTTON METHOD  
-- CRITICAL: Place in AUTO-EXECUTE folder  
-- When you get disconnected, a "‚Üí Rejoin Private" button appears and auto-clicks itself with infinite retries  

local TeleportService = game:GetService("TeleportService")  
local Players = game:GetService("Players")  
local CoreGui = game:GetService("CoreGui")  

-- ========== YOUR PRIVATE SERVER ==========  
local PLACE_ID = 1537690962  
local PRIVATE_SERVER_CODE = "16707204235853911608327042947697"  
-- ========================================  

-- Wait for Roblox prompt UI to load  
repeat task.wait() until CoreGui:FindFirstChild('RobloxPromptGui')  
local promptOverlay = CoreGui.RobloxPromptGui.promptOverlay  

-- Function that attempts rejoin with INFINITE RETRY  
local function attemptRejoin()  
    while true do  
        local success, err = pcall(function()  
            TeleportService:TeleportToPrivateServer(PLACE_ID, PRIVATE_SERVER_CODE, {Players.LocalPlayer})  
        end)  
        
        if success then  
            print("‚úÖ Teleport initiated!")  
            return  
        end  
        
        -- WiFi still down or error - retry in 2 seconds  
        warn("‚ùå Failed: " .. tostring(err) .. " | Retrying in 2 seconds...")  
        task.wait(2)  
    end  
end  

-- Function to add the "Rejoin Private" button  
local function addRejoinButton()  
    local errorPrompt = promptOverlay:WaitForChild("ErrorPrompt")  
    
    -- Make space for button  
    errorPrompt.Size = UDim2.new(0, 400, 0, 280)  
    
    -- Navigate UI hierarchy  
    local buttonArea = errorPrompt.MessageArea.ErrorFrame.ButtonArea  
    local layout = buttonArea:FindFirstChild("ButtonLayout") or buttonArea:FindFirstChild("UIListLayout")  
    if layout then  
        layout.Padding = UDim.new(0, 5)  
    end  
    
    -- Clone existing button  
    local baseButton = buttonArea:FindFirstChild("LeaveButton") or buttonArea:GetChildren()[1]  
    if not baseButton then return end  
    
    local rejoinButton = baseButton:Clone()  
    rejoinButton.Parent = buttonArea  
    rejoinButton.Name = "PrivateRejoinButton"  
    
    -- Set text  
    local buttonText = rejoinButton:FindFirstChild("ButtonText")  
    if buttonText then  
        buttonText.Text = "‚Üí Rejoin Private"  
        buttonText.TextColor3 = Color3.fromRGB(0, 255, 0)  
    end  
    
    -- When clicked: start infinite retry loop  
    rejoinButton.MouseButton1Up:Connect(function()  
        print("üö® Button clicked! Starting rejoin attempts...")  
        errorPrompt.Enabled = false  
        task.spawn(attemptRejoin)  
    end)  
    
    print("‚úÖ Private rejoin button added!")  
    
    -- AUTO-CLICK AFTER 3 SECONDS  
    task.wait(3)  
    print("ü§ñ Auto-clicking button...")  
    rejoinButton:Activate()  
end  

-- Detect disconnection  
promptOverlay.ChildAdded:Connect(function(child)  
    if child.Name == 'ErrorPrompt' then  
        print("üö® Disconnected! Adding rejoin button...")  
        task.wait(0.5)  
        addRejoinButton()  
    end  
end)  

-- If already disconnected  
if promptOverlay:FindFirstChild('ErrorPrompt') then  
    addRejoinButton()  
end  

print("‚úÖ Private server button script ACTIVE")  
print("üéØ When disconnected, wait 3 seconds or click '‚Üí Rejoin Private'")  
