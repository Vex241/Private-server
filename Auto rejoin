-- Private Server Rejoin Button | Bee Swarm Simulator
-- Place in AUTO-EXECUTE folder

local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- YOUR PRIVATE SERVER INFO
local PLACE_ID = 1537690962
local PRIVATE_SERVER_CODE = "16707204235853911608327042947697"

-- Wait for disconnection UI to load
repeat task.wait() until CoreGui:FindFirstChild('RobloxPromptGui')
local promptOverlay = CoreGui.RobloxPromptGui.promptOverlay

-- Function to add the private server button
local function addPrivateServerButton()
    local errorPrompt = promptOverlay:WaitForChild("ErrorPrompt")
    
    -- Resize to fit 3 buttons
    errorPrompt.Size = UDim2.new(0, 400, 0, 280)
    
    -- Navigate UI hierarchy
    local messageArea = errorPrompt:WaitForChild("MessageArea")
    local errorFrame = messageArea:WaitForChild("ErrorFrame")
    local buttonArea = errorFrame:WaitForChild("ButtonArea")
    local leaveButton = buttonArea:WaitForChild("LeaveButton")
    
    -- Clone Leave button
    local privateButton = leaveButton:Clone()
    privateButton.Parent = buttonArea
    privateButton.Name = "PrivateServerButton"
    
    -- Change text
    local buttonText = privateButton:FindFirstChild("ButtonText")
    if buttonText then
        buttonText.Text = "Rejoin Private"
    end
    
    -- Adjust spacing
    local layout = buttonArea:FindFirstChild("ButtonLayout") or buttonArea:FindFirstChild("UIListLayout")
    if layout then
        layout.Padding = UDim.new(0, 5)
    end
    
    -- Connect click to private server teleport
    privateButton.MouseButton1Up:Connect(function()
        print("ðŸš¨ Rejoining private server...")
        errorPrompt.Enabled = false
        
        -- Force teleport
        pcall(function()
            TeleportService:TeleportToPrivateServer(PLACE_ID, PRIVATE_SERVER_CODE, {Players.LocalPlayer})
        end)
        
        -- Aggressive retry
        while true do
            task.wait(2)
            pcall(function()
                TeleportService:TeleportToPrivateServer(PLACE_ID, PRIVATE_SERVER_CODE, {Players.LocalPlayer})
            end)
        end
    end)
    
    print("âœ… Private server button added!")
end

-- Add button when disconnected
promptOverlay.ChildAdded:Connect(function(child)
    if child.Name == 'ErrorPrompt' then
        task.wait(0.5)
        addPrivateServerButton()
    end
end)

-- If already disconnected
if promptOverlay:FindFirstChild('ErrorPrompt') then
    addPrivateServerButton()
end

print("âœ… Private server button script ready")
print("ðŸŽ¯ Target: " .. PRIVATE_SERVER_CODE)
print("ðŸ’¡ When disconnected, click the new 'Rejoin Private' button!")
